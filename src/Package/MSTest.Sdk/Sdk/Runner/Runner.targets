<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <IsPackable>false</IsPackable>
        <EnableMSTestRunner>true</EnableMSTestRunner>
        <OutputType>Exe</OutputType>
        <MicrosoftTestingExtensionsCommonVersion Condition=" '$(MicrosoftTestingExtensionsCommonVersion)' == '' " >1.1.0-preview.24113.5</MicrosoftTestingExtensionsCommonVersion>
        <TestingPlatformDotnetTestSupport Condition=" $(TestingPlatformDotnetTestSupport) == '' ">true</TestingPlatformDotnetTestSupport>
    </PropertyGroup>
    
    <!-- Extensions -->
    <PropertyGroup>
        <EnableDefaultMicrosoftTestingExtensions Condition=" '$(EnableDefaultMicrosoftTestingExtensions)' == '' " >true</EnableDefaultMicrosoftTestingExtensions>
        <EnableAllMicrosoftTestingExtensions Condition=" '$(EnableAllMicrosoftTestingExtensions)' == '' " >false</EnableAllMicrosoftTestingExtensions>

        <!-- TrxReport -->
        <_UserOptedOutMicrosoftTestingExtensionsTrxReport Condition=" '$(EnableMicrosoftTestingExtensionsTrxReport)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsTrxReport>
        <EnableMicrosoftTestingExtensionsTrxReport Condition=" '$(EnableMicrosoftTestingExtensionsTrxReport)' == '' " >$(EnableDefaultMicrosoftTestingExtensions)</EnableMicrosoftTestingExtensionsTrxReport>
        <EnableMicrosoftTestingExtensionsTrxReport Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsTrxReport)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsTrxReport>
        <MicrosoftTestingExtensionsTrxReportVersion Condition=" '$(MicrosoftTestingExtensionsTrxReportVersion)' == '' " >$(MicrosoftTestingExtensionsCommonVersion)</MicrosoftTestingExtensionsTrxReportVersion>
        
        <!-- MS Code Coverage -->
        <_UserOptedOutMicrosoftTestingExtensionsCodeCoverage Condition=" '$(EnableMicrosoftTestingExtensionsCodeCoverage)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsCodeCoverage>
        <EnableMicrosoftTestingExtensionsCodeCoverage Condition=" '$(EnableMicrosoftTestingExtensionsCodeCoverage)' == '' " >$(EnableDefaultMicrosoftTestingExtensions)</EnableMicrosoftTestingExtensionsCodeCoverage>
        <EnableMicrosoftTestingExtensionsCodeCoverage Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsCodeCoverage)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsCodeCoverage>
        <MicrosoftTestingExtensionsCodeCoverageVersion Condition=" '$(MicrosoftTestingExtensionsCodeCoverageVersion)' == '' " >17.10.4-preview.24114.3</MicrosoftTestingExtensionsCodeCoverageVersion>

        <!-- Hot Reload -->
        <_UserOptedOutMicrosoftTestingExtensionsHotReload Condition=" '$(EnableMicrosoftTestingExtensionsHotReload)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsHotReload>
        <EnableMicrosoftTestingExtensionsHotReload Condition=" '$(EnableMicrosoftTestingExtensionsHotReload)' == '' " >false</EnableMicrosoftTestingExtensionsHotReload>
        <EnableMicrosoftTestingExtensionsHotReload Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsHotReload)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsHotReload>
        <MicrosoftTestingExtensionsHotReloadVersion Condition=" '$(MicrosoftTestingExtensionsHotReloadVersion)' == '' " >$(MicrosoftTestingExtensionsCommonVersion)</MicrosoftTestingExtensionsHotReloadVersion>

        <!-- Retry -->
        <_UserOptedOutMicrosoftTestingExtensionsRetry Condition=" '$(EnableMicrosoftTestingExtensionsRetry)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsRetry>
        <EnableMicrosoftTestingExtensionsRetry Condition=" '$(EnableMicrosoftTestingExtensionsRetry)' == '' " >false</EnableMicrosoftTestingExtensionsRetry>
        <EnableMicrosoftTestingExtensionsRetry Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsRetry)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsRetry>
        <MicrosoftTestingExtensionsRetryVersion Condition=" '$(MicrosoftTestingExtensionsRetryVersion)' == '' " >$(MicrosoftTestingExtensionsCommonVersion)</MicrosoftTestingExtensionsRetryVersion>

        <!-- Crash dump -->
        <_UserOptedOutMicrosoftTestingExtensionsCrashDump Condition=" '$(EnableMicrosoftTestingExtensionsCrashDump)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsCrashDump>
        <EnableMicrosoftTestingExtensionsCrashDump Condition=" '$(EnableMicrosoftTestingExtensionsCrashDump)' == '' " >false</EnableMicrosoftTestingExtensionsCrashDump>
        <EnableMicrosoftTestingExtensionsCrashDump Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsCrashDump)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsCrashDump>
        <MicrosoftTestingExtensionsCrashDumpVersion Condition=" '$(MicrosoftTestingExtensionsCrashDumpVersion)' == '' " >$(MicrosoftTestingExtensionsCommonVersion)</MicrosoftTestingExtensionsCrashDumpVersion>

        <!-- Hang dump -->
        <_UserOptedOutMicrosoftTestingExtensionsHangDump Condition=" '$(EnableMicrosoftTestingExtensionsHangDump)' == 'false' ">true</_UserOptedOutMicrosoftTestingExtensionsHangDump>
        <EnableMicrosoftTestingExtensionsHangDump Condition=" '$(EnableMicrosoftTestingExtensionsHangDump)' == '' " >false</EnableMicrosoftTestingExtensionsHangDump>
        <EnableMicrosoftTestingExtensionsHangDump Condition=" '$(_UserOptedOutMicrosoftTestingExtensionsHangDump)' != 'true' and '$(EnableAllMicrosoftTestingExtensions)' == 'true' " >true</EnableMicrosoftTestingExtensionsHangDump>
        <MicrosoftTestingExtensionsHangDumpVersion Condition=" '$(MicrosoftTestingExtensionsHangDumpVersion)' == '' " >$(MicrosoftTestingExtensionsCommonVersion)</MicrosoftTestingExtensionsHangDumpVersion>            
    </PropertyGroup>

    <!-- Core -->
    <ItemGroup>
        <PackageReference Include="Microsoft.NET.Test.Sdk" Version="$(MicrosoftNETTestSdkVersion)" />
        <PackageReference Include="MSTest.TestAdapter" Version="$(MSTestVersion)" />
        <PackageReference Include="MSTest.TestFramework" Version="$(MSTestVersion)" />
        <PackageReference Include="MSTest.Analyzers" Version="$(MSTestVersion)" />
    </ItemGroup>

    <!-- Extensions -->
    <ItemGroup>
        <PackageReference Include="Microsoft.Testing.Extensions.TrxReport" Version="$(MicrosoftTestingExtensionsTrxReportVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsTrxReport)' == 'true' " />
        <PackageReference Include="Microsoft.Testing.Extensions.CrashDump" Version="$(MicrosoftTestingExtensionsCrashDumpVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsCrashDump)' == 'true' " />
        <PackageReference Include="Microsoft.Testing.Extensions.HangDump" Version="$(MicrosoftTestingExtensionsHangDumpVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsHangDump)' == 'true' " />
        <PackageReference Include="Microsoft.Testing.Extensions.CodeCoverage" Version="$(MicrosoftTestingExtensionsCodeCoverageVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsCodeCoverage)' == 'true' " />
        <PackageReference Include="Microsoft.Testing.Extensions.HotReload" Version="$(MicrosoftTestingExtensionsHotReloadVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsHotReload)' == 'true' " />
        <PackageReference Include="Microsoft.Testing.Extensions.Retry" Version="$(MicrosoftTestingExtensionsRetryVersion)" Condition=" '$(EnableMicrosoftTestingExtensionsRetry)' == 'true' " />
    </ItemGroup>

</Project>
