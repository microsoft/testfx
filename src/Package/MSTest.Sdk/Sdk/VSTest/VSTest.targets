<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <ItemGroup>
    <PackageReference Include="MSTest.TestFramework" Sdk="MSTest"
                      Version="$(MSTestVersion)" VersionOverride="$(MSTestVersion)" />
    <PackageReference Include="MSTest.Analyzers" Sdk="MSTest"
                      Version="$(MSTestVersion)" VersionOverride="$(MSTestVersion)"
                      Condition=" '$(EnableMSTestAnalyzers)' != 'false' " />
  </ItemGroup>

  <!-- If we are a test application (not a test library) -->
  <ItemGroup Condition=" '$(IsTestLibrary)' != 'true' ">
    <PackageReference Include="Microsoft.NET.Test.Sdk" Sdk="MSTest"
                      Version="$(MicrosoftNETTestSdkVersion)" VersionOverride="$(MicrosoftNETTestSdkVersion)" />
    <PackageReference Include="MSTest.TestAdapter" Sdk="MSTest"
                      Version="$(MSTestVersion)" VersionOverride="$(MSTestVersion)" />
    <PackageReference Include="MSTest.TestFramework" Sdk="MSTest"
                      Version="$(MSTestVersion)" VersionOverride="$(MSTestVersion)" />
    <PackageReference Include="MSTest.Analyzers" Sdk="MSTest"
                      Version="$(MSTestVersion)" VersionOverride="$(MSTestVersion)"
                      Condition=" '$(EnableMSTestAnalyzers)' != 'false' " />
  </ItemGroup>


  <!--
    Implicit imports
    Ensure feature is available and user hasn't opted-out from it.
    See https://github.com/dotnet/sdk/blob/f9fdf2c7d94bc86dc443e5a9ffecbd1962b1d85d/src/Tasks/Microsoft.NET.Build.Tasks/targets/Microsoft.NET.Sdk.CSharp.props#L26-L34
    -->
  <ItemGroup Condition=" '$(ImplicitUsings)' == 'true' Or '$(ImplicitUsings)' == 'enable' ">
    <Using Include="Microsoft.VisualStudio.TestTools.UnitTesting" />
  </ItemGroup>

  <Import Project="$(MSBuildThisFileDirectory)../Features/Aspire.targets" Condition=" '$(EnableAspireTesting)' == 'true' " />
  <Import Project="$(MSBuildThisFileDirectory)../Features/Playwright.targets" Condition=" '$(EnablePlaywright)' == 'true' " />

</Project>
