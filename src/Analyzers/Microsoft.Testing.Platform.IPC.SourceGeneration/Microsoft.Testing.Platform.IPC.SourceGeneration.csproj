<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <!-- C# Source generators have to target netstandard -->
    <TargetFrameworks>netstandard2.0</TargetFrameworks>
    <!-- Do not include the generator as a lib dependency -->
    <IncludeBuildOutput>false</IncludeBuildOutput>
    <NoWarn>NU5128</NoWarn>
    <EnforceExtendedAnalyzerRules>true</EnforceExtendedAnalyzerRules>
    <RootNamespace>Microsoft.Testing.Platform.IPC.SourceGeneration</RootNamespace>
    <IsPackable>false</IsPackable>
    <IsShipping>false</IsShipping>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>

  <ItemGroup>
    <AdditionalFiles Include="BannedSymbols.txt" />
  </ItemGroup>

  <ItemGroup>
    <!-- Roslyn C# - so that we can implement the code generator -->
    <PackageReference Include="Microsoft.CodeAnalysis.CSharp" PrivateAssets="all" VersionOverride="$(MicrosoftCodeAnalysisVersionForSourceGen)" />
    <!-- Analyzers to help write analyzers/generators -->
    <PackageReference Include="Microsoft.CodeAnalysis.Analyzers" PrivateAssets="all" />
  </ItemGroup>

</Project>
